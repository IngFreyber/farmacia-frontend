<div class="filterMedicamento">
  <mat-card class="matCard">
    <form [formGroup]="formMedicamento" novalidate autocomplete="off" class="p-card-body ">
      <input id="nombre" type="text" formControlName="nombre" class="p-inputtext ml-1" placeholder="Nombre">
      <button type="button" class="clean" (click)="clearFilterForm()">
        <span> Limpiar </span>
      </button>
    </form>
  </mat-card>
</div>
<p-table [value]="products" [tableStyle]="{'min-width': '70rem'}" [paginator]="true" [rows]="5">
  <ng-template pTemplate="caption">
    <div class="btonNuevo">
      Productos
      <p-button label="Nuevo Medicamento" class="btonNuevo" styleClass="p-button-rounded p-button-sm"
        pTooltip="Nuevo medicamento" matTooltipPosition="above" (click)="saveMedicamentoDialog()">
        <mat-icon>add</mat-icon>
      </p-button>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th class="text-center">Nombre</th>
      <th class="text-center">Laboratorio de fabrica</th>
      <th class="text-center">Fecha de Fabricaci√≥n</th>
      <th class="text-center">Fecha de Vencimiento</th>
      <th class="text-center">Stock</th>
      <th class="text-center">Valor Unitario</th>
      <th class="text-center">Opciones</th>
    </tr>
  </ng-template>
  <ng-template class="align-items-center" pTemplate="body" let-product>
    <tr>
      <td class="text-center">{{product.nombre}}</td>
      <td class="text-center">{{product.laboratorioFabrica}}</td>
      <td class="text-center">{{product.fechaFabricacion}}</td>
      <td class="text-center">{{product.fechaVencimiento}}</td>
      <td class="text-center">{{product.cantidadStock}}</td>
      <td class="text-center">{{product.valorUnitario | currency:'COP'}}</td>
      <td class="text-center flex">

        <p-button styleClass="p-button-success p-button-sm p-button-rounded p-button-text m-1" pTooltip="Vender"
          matTooltipPosition="above" (click)="sellMedicamentoDialog(product)">
          <mat-icon>shopping_cart_checkout</mat-icon>
        </p-button>

        <p-button styleClass="p-button-warning p-button-sm p-button-rounded p-button-text m-1" pTooltip="Editar"
          matTooltipPosition="above" (click)="editMedicamentoDialog(product)">
          <mat-icon>edit</mat-icon>
        </p-button>

        <p-button styleClass="p-button-danger p-button-sm p-button-rounded p-button-text m-1" pTooltip="Eliminar"
          matTooltipPosition="above" (click)="deleteMedicamentoDialog(product)">
          <mat-icon>delete_forever</mat-icon>
        </p-button>

      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="summary">
    <div class="flex align-items-center justify-content-between">
      Total: {{products ? products.length : 0 }} productos.
    </div>
  </ng-template>
</p-table>
